<ion-content [scrollY]="false" class="screens-content">
  <!-- Screen Viewer Component -->
  <app-screen-viewer
    [currentScreen]="currentScreen"
    [isScrollableScreen]="isScrollableScreen"
    [scrollableContentHeight]="0"
    (imageError)="onImageError($event)">
  </app-screen-viewer>

  <!-- Hotspot Overlay Component -->
  <app-hotspot-overlay
    [hotspots]="(currentHotspots$ | async) || []"
    [inputValues]="inputValues"
    [isScrollable]="isScrollableScreen"
    (hotspotClick)="onHotspotClick($event)">
  </app-hotspot-overlay>

  <!-- Konva Canvas Overlay for Advanced Hotspots -->
  <div #konvaContainer class="konva-overlay"></div>

  <!-- Error Message -->
  <div *ngIf="showError" class="error-toast">
    {{ errorMessage }}
  </div>

  <!-- Success Message -->
  <div *ngIf="showSuccess" class="success-toast">
    {{ localizationService.translate('loginSuccess') }}
  </div>

  <!-- Screenshot Button -->
  <button
    class="screenshot-btn"
    [class.loading]="(isCapturing$ | async) === true"
    [disabled]="(isCapturing$ | async) === true"
    (click)="captureAndDownloadScreenshot()"
    title="Capture Screenshot">
    <span *ngIf="(isCapturing$ | async) === false">ğŸ“¸</span>
    <span *ngIf="(isCapturing$ | async) === true" class="loading-spinner">â³</span>
  </button>

  <!-- Hotspot Creation Mode Toggle -->
  <button
    class="hotspot-create-btn"
    [class.active]="isCreatingHotspot"
    (click)="toggleHotspotCreation()"
    title="Toggle Hotspot Creation Mode">
    <span *ngIf="!isCreatingHotspot">â•</span>
    <span *ngIf="isCreatingHotspot" class="hotspot-creation-indicator">âœï¸</span>
  </button>

  <!-- iOS Keyboard Component -->
  <app-ios-keyboard
    (valueChange)="onKeyboardValueChange($event)"
    (keyboardClose)="onKeyboardClose()">
  </app-ios-keyboard>
</ion-content>
